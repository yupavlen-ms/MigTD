// DevContainer VSCode extension. Can be used for GitHub CodeSpaces.
{
    "name": "mig_td_vscode",

    // Use provided Dockerfile.
    "build": {
        "dockerfile": "../container/Dockerfile",
    },

    "features": {
        // Everything else should be already added by Dockerfile.
        "ghcr.io/devcontainers/features/sshd:1": {}
    },

    // Add rust-analyzer by default.
    "customizations": {
        "vscode": {
            "extensions": [
                "rust-lang.rust-analyzer"
            ]
        }
    },

    // Allow /dev/kvm access.
    "privileged": true,

    // Once before building.
    "postCreateCommand": "./sh_script/preparation.sh",
}
